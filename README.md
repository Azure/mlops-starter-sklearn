<div align="center">
<h1>
<img width="30", src="./docs/images/azureml-icon.svg">
&nbsp;
MLOps with Azure Machine Learning
</h1>
Azure Machine Learning + GitHub ã‚’åˆ©ç”¨ã—ãŸ MLOps å®Ÿè£…ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

[![MIT licensed](https://img.shields.io/badge/license-MIT-brightgreen.svg)](LICENSE)
[![](https://img.shields.io/github/contributors-anon/Azure/mlops-starter-sklearn)](https://github.com/Azure/mlops-starter-sklearn/graphs/contributors)
[![Star](https://img.shields.io/github/stars/Azure/mlops-starter-sklearn.svg)](https://github.com/Azure/mlops-starter-sklearn)
[![Open in VSCode](https://img.shields.io/static/v1?logo=visualstudiocode&label=&message=Open%20in%20VSCode&labelColor=2c2c32&color=007acc&logoColor=007acc)](https://open.vscode.dev/Azure/mlops-starter-sklearn)

</div>

---

## ğŸ‘‹ æ¦‚è¦
æœ¬ãƒªãƒã‚¸ãƒˆãƒªã¯ã€MLOps ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’ç´ æ—©ãåˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç›®çš„ã«ä½œæˆã•ã‚Œã¾ã—ãŸã€‚Azure Machine Learning ã¨ GitHub Actions ã‚’åˆ©ç”¨ã™ã‚‹æƒ³å®šã§ã™ã€‚


## ğŸš€ ä½¿ã„æ–¹
- Azure Machine Learning ã¨ GitHub ã®ç’°å¢ƒã‚’æº–å‚™ã—ã¾ã™ã€‚
- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç’°å¢ƒã¨ã—ã¦ä¸‹è¨˜ã®ã„ãšã‚Œã‹ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚
    - Azure Machine Learning ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
    - DevContainer ç’°å¢ƒ
        - Conda ã§ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®éš›ã«ãƒ¡ãƒ¢ãƒªã‚’æ¶ˆè²»ã™ã‚‹ãŸã‚ã€ã‚ã‚‹ç¨‹åº¦å¤§ãã„ã‚¹ãƒšãƒƒã‚¯ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚Codespaces ã®å ´åˆã€4-core / 8GB RAM / 32GB storage ä»¥ä¸Šã® Machine Type ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚
- .env ãƒ•ã‚¡ã‚¤ãƒ«ã«ç’°å¢ƒå¤‰æ•°ã®è¨­å®šã‚’ã—ã¾ã™ã€‚
- [./scripts](./scripts) ãƒ•ã‚©ãƒ«ãƒ€ã®å„ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
- GitHub ã® Secrets ã‚’ä½œæˆã—ã€GitHub Actions ã‚’æœ‰åŠ¹åŒ–ã—å®Ÿè¡Œã—ã¾ã™ã€‚

:point_right: **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç’°å¢ƒã¨ã—ã¦ Azure Machine Learning ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ (Compute Instance) ã‚’åˆ©ç”¨ã—ãŸå ´åˆã®ã‚³ãƒ¼ãƒ‰ã‚„ CI/CD ã®å®Ÿè¡Œæ–¹æ³•ã¯ [ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ](./docs/quickstart.md) ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¨˜è¼‰ã—ã¦ã‚ã‚Šã¾ã™ã€‚**


## ğŸ“ æŠ€è¡“æ¡ä»¶
- GitHub
    - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ç®¡ç†ã€CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
- Data
    - [NYC ã‚¿ã‚¯ã‚·ãƒ¼ & ãƒªãƒ ã‚¸ãƒ³å”ä¼š - ã‚°ãƒªãƒ¼ãƒ³ã‚¿ã‚¯ã‚·ãƒ¼é‹è¡Œè¨˜éŒ²](https://learn.microsoft.com/ja-jp/azure/open-datasets/dataset-taxi-green?tabs=azureml-opendatasets)
- Azure Machine Learning
    - ãƒãƒ¼ãƒ ãƒ»çµ„ç¹”ã§å…±æœ‰ã®æ©Ÿæ¢°å­¦ç¿’ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 
    - Compute Instance : CPU ã‚¿ã‚¤ãƒ—ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç«¯æœ«
        - ã‚‚ã—ãã¯ Dev Container ã«å¯¾å¿œã—ãŸ GitHub Codespace ãªã©
    - Compute Cluster : å…±æœ‰ã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ç’°å¢ƒ
    - API : Azure Machine Learning CLI (v2)
- IDE/Editor
    - Visual Studio Code

## ğŸ“ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
### Assets
**CLI v2 + YAML**

|ã‚·ãƒŠãƒªã‚ª              |YAML ãƒ•ã‚¡ã‚¤ãƒ«|ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ|è©³ç´°        |
|--------------------|---------|-----------|-----------|
|Create Data asset   |[cli/assets/create-data.yml](cli/assets/create-data.yml)|[scripts/assets/create-data.sh](scripts/assets/create-data.sh)|ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚»ãƒƒãƒˆã‚’ä½œæˆã™ã‚‹|
|Create Compute Cluster|[cli/assets/create-compute.yml](cli/assets/create-compute.yml)|[scripts/assets/create-compute.sh](scripts/assets/create-compute.sh)|Compute ã‚’ä½œæˆã™ã‚‹|
|Create Environment for training|[cli/assets/create-environment.yml](cli/assets/create-environment.yml)|[scripts/assets/create-environment.sh](scripts/assets/create-environment.sh)|ç’°å¢ƒã‚’ä½œæˆã™ã‚‹|

### Prototyping
**Notebook**

|ã‚·ãƒŠãƒªã‚ª              |Notebook|ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ|è©³ç´°        |
|--------------------|---------|-----------|-----------|
|Baseline Notebook   |[notebooks/train-prototyping.ipynb](notebooks/train-prototyping.ipynb)|[scripts/prototyping/run-notebooks.sh](scripts/prototyping/run-notebooks.sh)|å®Ÿé¨“ç”¨ã® Notebook|


### Training
**CLI v2 + YAML**

|ã‚·ãƒŠãƒªã‚ª              |YAML ãƒ•ã‚¡ã‚¤ãƒ«|ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ|è©³ç´°        |
|--------------------|---------|-----------|-----------|
|Job for training model |[cli/jobs/train.yml](cli/jobs/train.yml)           |[scripts/training/train.sh](scripts/training/train.sh)| Azure ML ã® Job ã¨ã—ã¦ Python script ã‚’å®Ÿè¡Œ |


**CI/CD Pipeline**
|ã‚·ãƒŠãƒªã‚ª              |YAML ãƒ•ã‚¡ã‚¤ãƒ«|Status     |è©³ç´°        |
|--------------------|---------|-----------|-----------|
|Smoke Test          |[.github/workflows/smoke-testing.yml](.github/workflows/smoke-testing.yml)|[![smoke-testing](https://github.com/Azure/MLInsider-MLOps/actions/workflows/smoke-testing.yml/badge.svg)](https://github.com/Azure/MLInsider-MLOps/actions/workflows/smoke-testing.yml)|Smoke Test ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³|


### Operationalizing
**CLI v2 + YAML**

|ã‚·ãƒŠãƒªã‚ª                            |YAML ãƒ•ã‚¡ã‚¤ãƒ« |ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ|è©³ç´°        |
|----------------------------------|---------|-----------|-----------|
|Create Batch Endpoint (custom)  |[cli/endpoints/batch_deployment.yml](cli/endpoints/batch_deployment.yml)|[scripts/endpoints/deploy-batch-endpoint.sh](scripts/endpoints/deploy-batch-endpoint-custom.sh)           |ã‚«ã‚¹ã‚¿ãƒ å‹ãƒ¢ãƒ‡ãƒ«ã®ãƒãƒƒãƒã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤|
|Create Batch Endpoint (mlflow)  |[cli/endpoints/batch_deployment_mlflow.yml](cli/endpoints/batch_deployment_mlflow.yml)|[scripts/endpoints/deploy-batch-endpoint.sh](scripts/endpoints/deploy-batch-endpoint-mlflow.sh)|MLflow å‹ãƒ¢ãƒ‡ãƒ«ã®ãƒãƒƒãƒã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤|
|Create Online Endpoint (custom)  |[cli/endpoints/online_deployment.yml](cli/endpoints/online_deployment.yml)|[scripts/endpoints/deploy-online-endpoint-custom.sh](scripts/endpoints/deploy-online-endpoint-custom.sh)|ã‚«ã‚¹ã‚¿ãƒ å‹ãƒ¢ãƒ‡ãƒ«ã®ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤|
|Create Online Endpoint (mlflow)  |[cli/endpoints/online_deployment_mlflow.yml](cli/endpoints/online_deployment_mlflow.yml)|[scripts/endpoints/deploy-online-endpoint-mlflow.sh](scripts/endpoints/deploy-online-endpoint-mlflow.sh)|MLflow å‹ãƒ¢ãƒ‡ãƒ«ã®ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤|


### CI/CD Pipeline

>TODO

## ğŸ—’ï¸ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
- [ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ](./docs/quickstart.md)
- [Coding Guideline](./docs/coding-guidelines.md)

## ğŸ“„ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
.
â”œâ”€â”€ .devcontainer   # Configuration files for DevContainer
â”œâ”€â”€ .github
â”‚   â””â”€â”€ workflows   # YAML files for GitHub Actions
â”œâ”€â”€ .vscode
â”œâ”€â”€ cli             # YAML files for Azure ML CLI v2
â”‚   â”œâ”€â”€ assets
â”‚   â”œâ”€â”€ endpoints
â”‚   â””â”€â”€ jobs
â”œâ”€â”€ data            # Sample data
â”‚   â”œâ”€â”€ raw
â”‚   â””â”€â”€ samples
â”œâ”€â”€ docs            # Documenting quickstart, coding style guide etc
â”œâ”€â”€ environments    # Python libraries
â”œâ”€â”€ notebooks       # Jupyter Notebook
â”œâ”€â”€ pipelines       # Azure ML Pipeline CLI v2
â”‚   â”œâ”€â”€ eval
â”‚   â”œâ”€â”€ prep
â”‚   â”œâ”€â”€ score
â”‚   â””â”€â”€ train
â”œâ”€â”€ scripts
â”‚   â”œâ”€â”€ assets      # Shell scripts for creating assets like data, compute, environment
â”‚   â”œâ”€â”€ endpoints   # Shell scripts for scoring model
â”‚   â”œâ”€â”€ jobs        # Shell scripts for model training
â”‚   â””â”€â”€ prototyping # Shell scripts for experimental
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ data        # Code for data preparation
â”‚   â”œâ”€â”€ deploy      # Code for scoring model
â”‚   â”œâ”€â”€ features    # Code for feature engineering
â”‚   â”œâ”€â”€ model       # Code for model training
â”‚   â”œâ”€â”€ monitor     # Code for monitoing data and model
â”‚   â””â”€â”€ rai         # Code for responsible ai
â”œâ”€â”€ tests
â”‚   â”œâ”€â”€ data_validation # Code for validating data
â”‚   â””â”€â”€ unit            # Code for unit testing
â””â”€â”€ utils           # Code for utilities
```

---

## é–¢é€£ãƒªãƒã‚¸ãƒˆãƒª/ãƒªã‚½ãƒ¼ã‚¹

### ä¸»è¦ãªãƒªãƒã‚¸ãƒˆãƒª/ãƒªã‚½ãƒ¼ã‚¹ã¨ã®æ¯”è¼ƒ
| ãƒªãƒã‚¸ãƒˆãƒª/ãƒªã‚½ãƒ¼ã‚¹å | æ¦‚è¦ã¨ç›®çš„ | æœ¬ãƒªãƒã‚¸ãƒˆãƒªã¨ã®å·®ç•° |
| --- | --- | --- |
| [microsoft/MLOps](https://github.com/microsoft/MLOps) | MLOps ã®æ¦‚è¦èª¬æ˜ã‹ã‚‰ã€Microsoft è£½å“ã§ã©ã®ã‚ˆã†ã« MLOps ã‚’å®Ÿç¾ã™ã‚‹ã®ã‹ Azure DevOps ã‚„ GitHub Actionsã€IaCãªã©ã®ãƒ„ãƒ¼ãƒ«å˜ä½ã‚„ã‚·ãƒŠãƒªã‚ªå˜ä½ã§ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’æä¾›ã—ã¦ã„ã‚‹ã€‚ | æœ¬ãƒªãƒã‚¸ãƒˆãƒªã¯ã€ãƒ„ãƒ¼ãƒ«ã‚’ï¼‘ã‚·ãƒŠãƒªã‚ªã«çµã‚Šã€è¿…é€Ÿçš„ã«æ´»ç”¨å¯èƒ½ãª MLOps ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æä¾›ã™ã‚‹ã€‚|
| [Azure/mlops-v2](https://github.com/Azure/mlops-v2) | MLOps ã«é–¢ã—ã¦ã‚ˆã‚Šåºƒç¯„ã§æŠ½è±¡çš„ãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€‚ | æœ¬ãƒªãƒã‚¸ãƒˆãƒªã¯ã€ã‚ˆã‚Šå…·ä½“çš„ãªãƒ‡ãƒ¼ã‚¿ãƒ»ã‚³ãƒ¼ãƒ‰ã‚’å«ã¿ã€å®Ÿè¡Œå¯èƒ½ãªã‚µãƒ³ãƒ—ãƒ«ã‚’ç›®æŒ‡ã—ã¦ã„ã‚‹ã€‚|
| [Azure/azureml-examples](https://github.com/Azure/azureml-examples) | AzureML ã«é–¢ã—ã¦ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰é›†ã€‚ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ç­‰ãŒæ•´å‚™ã•ã‚Œã¦ã„ã‚‹ã€‚ | æœ¬ãƒªãƒã‚¸ãƒˆãƒªã¯ã€å˜ç™ºã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ç¾¤ã§ã¯ãªãã€ML ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã®ä¸€é€£ã®æµã‚ŒãŒ end-to-end ã§ç¶²ç¾…ã•ã‚ŒãŸã‚‚ã®ã‚’ç›®æŒ‡ã—ã¦ã„ã‚‹ã€‚|
| [Tutorial: Azure Machine Learning in a day](https://learn.microsoft.com/en-us/azure/machine-learning/tutorial-azure-ml-in-a-day) | End-to-End ã§ AzureML ã‚’å­¦ã¶ã“ã¨ãŒã§ãã‚‹ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ãƒšãƒ¼ã‚¸ã€‚ | æœ¬ãƒªãƒã‚¸ãƒˆãƒªã¯ã€æ¯”è¼ƒå¯¾è±¡ã®ãƒªãƒã‚¸ãƒˆãƒªã§ã¯æ²è¼‰ã•ã‚Œã¦ã„ãªã„ ML ã‚·ã‚¹ãƒ†ãƒ ã‚’è¨­è¨ˆãƒ»é‹ç”¨ã—ã¦ã„ããŸã‚ã® Tips ã‚‚æä¾›ã—ã¦ã„ã‚‹ã€‚|

### ãã®ä»–
- https://github.com/dslp/dslp-repo-template

## ğŸ›¡ å…è²¬äº‹é …
å½“ç¤¾ã¯ã€å¤–éƒ¨ã®ãƒªãƒ³ã‚¯å…ˆã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®å†…å®¹ã«é–¢ã—ã¦ã„ã‹ãªã‚‹è²¬ä»»ã‚‚è² ã†ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãŠå®¢æ§˜ã¯ã€è‡ªã‚‰ã®è²¬ä»»ã«ãŠã„ã¦ã“ã‚Œã‚‰ã®ãƒªãƒ³ã‚¯ã‚’ã”åˆ©ç”¨ãã ã•ã„ã€‚ãªãŠã€ãŠå®¢æ§˜ã«ã‚ˆã‚‹ãƒªãƒ³ã‚¯ã”åˆ©ç”¨ã®çµæœã€ãªã„ã—ã¯ãƒªãƒ³ã‚¯ã”åˆ©ç”¨ã«é–¢é€£ã—ã¦ã€ãŠå®¢æ§˜ãŒè¢«ã‚‹ã„ã‹ãªã‚‹æå®³ã¾ãŸã¯æå¤±ã«ã¤ã„ã¦å½“ç¤¾ã¯ã€è²¬ä»»ã‚’è² ã†ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

## ğŸ¤ Contributing
We are welcome your contribution from customers and internal microsoft employees. Please see [CONTRIBUTING](./CONTRIBUTING.md). We appreciate all contributors from Microsoft employees and community to make this repo thrive.


<a href="https://github.com/Azure/mlops-starter-sklearn/graphs/contributors"><img src="https://contrib.rocks/image?repo=Azure/mlops-starter-sklearn&max=240&columns=18" /></a>

## Trademarks

This project may contain trademarks or logos for projects, products, or services. Authorized use of Microsoft
trademarks or logos is subject to and must follow
[Microsoft's Trademark & Brand Guidelines](https://www.microsoft.com/en-us/legal/intellectualproperty/trademarks/usage/general).
Use of Microsoft trademarks or logos in modified versions of this project must not cause confusion or imply Microsoft sponsorship.
Any use of third-party trademarks or logos are subject to those third-party's policies.
